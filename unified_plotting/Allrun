#!/bin/bash 

./plot_study.py \
--input '[{
  "path": "../WindsorBody_NEON_ref/postpro.json",
  "times_key": "clockTimeDelta",
  "unit": "s",
  "cpu_hr_ondemand": 0.085,
  "cpu_hr_reserved": 0.0325709375,
  "nPISOCorr": 4,
  "variation_key": "preconditioner",
  "variation_map": {
    "DIC": "OF: CPU\n(Case setup v1)",
    "none": "OF: CPU\n(GAMG solver)"
  },
  "cpu_cores_per_node": 76
},
{
  "path": "../WindsorBody_20250806/postpro.json",
  "times_key": "clockTimeDelta",
  "unit": "s",
  "cpu_hr_ondemand": 0.085,
  "cpu_hr_reserved": 0.0325709375,
  "gpu_hr_ondemand": 2.74470525,
  "gpu_hr_reserved": 1.0198803125,
  "variation_key": "preconditioner",
  "variation_map": {
    "FDIC": "OF: CPU\n(EXASIM setup)",
    "none": "OF: CPU\n(GAMG solver)",
    "BJ": "OGL: CPU+GPU\n(Ginkgo CG solver\n+ Block Jacobi precond.)",
    "{ preconditioner Multigrid; caching 150; }": "OGL: CPU+GPU\n(Ginkgo CG solver\n+ Multigrid precond.)"
  },
  "cpu_cores_per_node": 76
},
{
  "path": "../WindsorBody_SPUMA_cineca_v2/postpro.json",
  "times_key": "clockTimeDelta",
  "unit": "s",
  "cpu_hr_ondemand": 0.085,
  "cpu_hr_reserved": 0.0325709375,
  "gpu_hr_ondemand": 2.74470525,
  "gpu_hr_reserved": 1.0198803125,
  "variation_key": "preconditioner",
  "variation_map": {
    "aDIC": "SPUMA: GPU\n(EXASIM setup)",
    "none": "SPUMA: GPU\n(GAMG solver)"
  },
  "cpu_cores_per_node": 76,
  "gpus_per_node": 4
}]' \
  --outdir neon_reference_v1 \
  --outname neon_reference_v1 \
  --color-scope global \
  --skip 'GAMG' \
  --compare-base 'Case setup v1' \
  --compare-match 'EXASIM'
