type: InitCase
parameters:
    type: Path
    solver: pimpleFoam
    case: WindsorBody
    build: ["getMesh.sh"] 
properties:
 - file: system/controlDict
   endTime: 1.0

variation:
 - type: LinearSolver
   parameters: 
        field: p
        values:
          solver: 
            - CG
          preconditioner:
            - NoPrecond
          backends: 
            - Ginkgo
            - OpenFOAM
        options:
          Ginkgo:
            verbose: 1
            forceHostBuffer: true
    variation:
      - type: ChangeNumberOfSubdomains
        parameters: 
          multiplier: ${{env.NGPUS}}
          method: simple
          values: 1
        variant_of: [Ginkgo]
      - type: ChangeNumberOfSubdomains
        parameters: 
          multiplier: ${{env.CGPUS}}
          method: simple
          values: 1
        variant_of: [OpenFOAM]
